(this["webpackJsonporange-lines"]=this["webpackJsonporange-lines"]||[]).push([[0],{24:function(e,t,i){},47:function(e,t,i){},48:function(e,t,i){},65:function(e,t,i){"use strict";i.r(t);var n=i(1),a=i(0),r=i.n(a),o=i(32),c=i.n(o),s=(i(47),i(24),i(9)),l=i(10),d=i(12),u=i(11),h=(i(48),i(7)),b=i(17),m=i(15),p=i(13);function j(){var e=Object(b.a)(["\n ","\n"]);return j=function(){return e},e}function x(){var e=Object(b.a)(["\n ","\n"]);return x=function(){return e},e}function v(){var e=Object(b.a)(["\n ","\n"]);return v=function(){return e},e}var g=p.a.div(v(),{"--text-opacity":"1",color:"rgba(255, 102, 0, var(--text-opacity))",fontWeight:"900",textTransform:"uppercase",fontSize:"1.875rem",letterSpacing:"-0.05em"}),f=Object(p.a)(m.b)(x(),{marginLeft:"2rem",display:"inline-flex",alignItems:"center",paddingLeft:"0.25rem",paddingRight:"0.25rem",paddingTop:"0.25rem",lineHeight:"1.25rem",fontSize:"0.875rem",fontWeight:"400","--text-opacity":"1",color:"rgba(0, 0, 0, var(--text-opacity))",":hover":{"--text-opacity":"1",color:"rgba(255, 102, 0, var(--text-opacity))"},transitionProperty:"background-color, border-color, color, fill, stroke, opacity, box-shadow, transform",transitionDuration:"150ms",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)"}),y=Object(p.a)(m.b)(j(),{marginTop:"0.25rem",display:"block",paddingLeft:"0.75rem",paddingRight:"1rem",paddingTop:"0.5rem",paddingBottom:"0.5rem",fontSize:"1rem",fontWeight:"400","--text-opacity":"1",color:"rgba(0, 0, 0, var(--text-opacity))",":hover":{"--text-opacity":"1",color:"rgba(255, 102, 0, var(--text-opacity))"},":focus":{outline:"2px solid transparent",outlineOffset:"2px"},transitionProperty:"background-color, border-color, color, fill, stroke, opacity, box-shadow, transform",transitionDuration:"150ms",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)"}),O=function(e){Object(d.a)(i,e);var t=Object(u.a)(i);function i(e){var n;return Object(s.a)(this,i),(n=t.call(this,e)).state={isMobileMenuOpen:!1,screenWidth:null},n.toggleMobileMenu=n.toggleMobileMenu.bind(Object(h.a)(n)),n.resizeScreen=n.resizeScreen.bind(Object(h.a)(n)),n}return Object(l.a)(i,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.resizeScreen)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.resizeScreen)}},{key:"resizeScreen",value:function(){window.innerWidth>600&&this.setState({isMobileMenuOpen:!1})}},{key:"toggleMobileMenu",value:function(){this.setState((function(e){return{isMobileMenuOpen:!e.isMobileMenuOpen}}))}},{key:"render",value:function(){return Object(n.jsx)(r.a.Fragment,{children:Object(n.jsxs)("nav",{className:"bg-white shadow",children:[Object(n.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:Object(n.jsxs)("div",{className:"flex justify-between h-16",children:[Object(n.jsxs)("div",{className:"flex",children:[Object(n.jsx)("div",{className:"flex-shrink-0 flex items-center",children:Object(n.jsx)(g,{children:"Orange Lines"})}),Object(n.jsx)("div",{className:"hidden sm:ml-6 sm:flex",children:this.props.menuItems.map((function(e){return Object(n.jsx)(f,{exact:!0,to:e.path,activeClassName:"activeMenuItem",className:"mainMenuItem",children:e.name},e.id)}))})]}),Object(n.jsx)("div",{className:"-mr-2 flex items-center sm:hidden",onClick:this.toggleMobileMenu,children:Object(n.jsxs)("button",{className:"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 focus:text-gray-500 transition duration-150 ease-in-out","aria-label":"Main menu","aria-expanded":"false",children:[Object(n.jsx)("svg",{className:"block h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})}),Object(n.jsx)("svg",{className:"hidden h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})]})})]})}),Object(n.jsx)("div",{className:"".concat(this.state.isMobileMenuOpen?"block sm:block":"hidden sm:hidden"),children:Object(n.jsx)("div",{className:"pt-2 pb-3",children:this.props.menuItems.map((function(e){return Object(n.jsx)(y,{exact:!0,to:e.path,activeClassName:"activeMenuItem",className:"mobileMenuItem",children:e.name},e.id+"Mobile")}))})})]})})}}]),i}(a.Component),M=function(e){Object(d.a)(i,e);var t=Object(u.a)(i);function i(e){var n;return Object(s.a)(this,i),(n=t.call(this,e)).state={},n}return Object(l.a)(i,[{key:"render",value:function(){return Object(n.jsx)(r.a.Fragment,{children:Object(n.jsx)("div",{className:"max-w overflow-hidden",children:Object(n.jsxs)("div",{className:"px-6 py-4",children:[Object(n.jsx)("div",{className:"font-light text-xl mb-2",children:"Strive for growth."}),Object(n.jsx)("p",{className:"font-light text-gray-700 text-base",children:"Orange Lines is a React web app which uses the MapBox API. It is inspired by Strava, an exercise app which connects me to others and motivates me to push my limits. Developed by Karmen Lu."})]})})})}}]),i}(a.Component),k=i(21),w=i.n(k),N=i(41);i(64);function C(){var e=Object(b.a)(["\n ","\n"]);return C=function(){return e},e}w.a.accessToken="pk.eyJ1Ijoia2x1MTciLCJhIjoiY2toOHNmcDZsMHY5ajJ6bzhycXptaWt5cCJ9.9CuaPPMzUzJZBb2FMVSSSw";var S,R,L=[{name:"Walking",path:"walking",id:"a1"},{name:"Cycling",path:"cycling",id:"a2"},{name:"Driving",path:"driving",id:"a3"}],z=p.a.div(C(),{"--bg-opacity":"1",backgroundColor:"rgba(255, 255, 255, var(--bg-opacity))","--text-opacity":"1",color:"rgba(45, 55, 72, var(--text-opacity))","--border-opacity":"0",borderWidth:"0",":hover":{borderWidth:"2px","--border-opacity":"1",borderColor:"rgba(255, 149, 0, var(--border-opacity))","--text-opacity":"1",color:"rgba(255, 149, 0, var(--text-opacity))"},fontWeight:"400",paddingTop:"0.5rem",paddingBottom:"0.5rem",paddingLeft:"1rem",paddingRight:"1rem",margin:"0.75rem",borderRadius:"0.25rem"}),F=function(e){Object(d.a)(i,e);var t=Object(u.a)(i);function i(e){var n;return Object(s.a)(this,i),(n=t.call(this,e)).state={lng:-71,lat:43,zoom:8.5,activity:null,distance:0,duration:0,clearMetricsAndLinesOnNextActivitySelectClick:!1},n.drawRoute=n.drawRoute.bind(Object(h.a)(n)),n.createRoute=n.createRoute.bind(Object(h.a)(n)),n.updateRoute=n.updateRoute.bind(Object(h.a)(n)),n.deleteRoute=n.deleteRoute.bind(Object(h.a)(n)),n.getRouteMetrics=n.getRouteMetrics.bind(Object(h.a)(n)),n}return Object(l.a)(i,[{key:"componentDidMount",value:function(){S=new w.a.Map({container:this.routeCreatorMap,style:"mapbox://styles/klu17/ckh98gx7u2tdf19lgx2mpx3k7",center:[this.state.lng,this.state.lat],zoom:this.state.zoom}),R=new N.a({displayControlsDefault:!1,controls:{line_string:!0,trash:!0}}),S.addControl(R,"top-left"),S.on("draw.create",this.createRoute),S.on("draw.delete",this.deleteRoute),S.on("draw.update",this.updateRoute)}},{key:"handleActivityClick",value:function(e,t){this.state.clearMetricsOnNextActivitySelectClick&&(this.setState({distance:0,duration:0,clearMetricsOnNextActivitySelectClick:!1}),this.deleteRoute()),this.setState({activity:t.path}),e.preventDefault()}},{key:"updateRoute",value:function(e){var t=R.getAll();S.removeLayer("route").removeSource("route");var i=t.features[0].geometry.coordinates;this.drawRoute(i),this.getRouteMetrics(i)}},{key:"getRouteMetrics",value:function(e){if(this.state.activity){var t="https://api.mapbox.com/directions/v5/mapbox/"+this.state.activity+"/"+e.join(";")+"?geometries=geojson&steps=true&&access_token="+w.a.accessToken,i=new XMLHttpRequest;i.responseType="json",i.open("GET",t,!0),i.onload=function(){var e=i.response,t=.001*e.routes[0].distance,n=e.routes[0].duration/60;this.setState({distance:t.toFixed(2),duration:n.toFixed(2)})}.bind(this),i.send(),this.setState({clearMetricsOnNextActivitySelectClick:!0})}else alert("No activity was selected.")}},{key:"drawRoute",value:function(e){S.addSource("route",{type:"geojson",data:{type:"Feature",properties:{},geometry:{type:"LineString",coordinates:e}}}),S.addLayer({id:"route",type:"line",source:"route",layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"#FF6600","line-width":6}})}},{key:"createRoute",value:function(e){var t=R.getAll().features[0].geometry.coordinates;this.drawRoute(t),this.getRouteMetrics(t)}},{key:"deleteRoute",value:function(e){R.getAll();S.removeLayer("route").removeSource("route")}},{key:"render",value:function(){var e=this;return Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsx)("div",{className:"max-w overflow-hidden",children:Object(n.jsxs)("div",{className:"px-6 py-4",children:[Object(n.jsx)("div",{className:"font-light text-xl mb-2",children:"Create a route."}),Object(n.jsx)("p",{className:"font-light text-gray-700 text-base",children:"Select your activity. Draw your route. Submit."}),Object(n.jsx)("div",{className:"activityMenu flex items-center",children:L.map((function(t){return Object(n.jsx)(z,{className:e.state.activity===t.path?"selectedActivityInput":null,type:"radio",id:t.id,name:"activity",value:t.path,onClick:function(i){return e.handleActivityClick(i,t)},children:t.name},t.id)}))})]})}),Object(n.jsx)("div",{className:"routeCreatorMapContainer",children:Object(n.jsx)("div",{ref:function(t){return e.routeCreatorMap=t},className:"routeCreatorMap"})}),Object(n.jsx)("div",{className:"max-w overflow-hidden metricsBox",children:Object(n.jsxs)("div",{className:"px-6 py-4",children:[Object(n.jsx)("div",{className:"font-light text-xl mb-2",children:"Route Metrics"}),Object(n.jsx)("p",{className:"font-light text-gray-700 text-base",children:Object(n.jsxs)("span",{children:["Activity: ",Object(n.jsx)("span",{className:"capitalize",children:this.state.activity?this.state.activity:"- -"}),Object(n.jsx)("br",{}),"Distance: ",this.state.distance?this.state.distance:"- -"," km",Object(n.jsx)("br",{}),"Duration: ",this.state.duration?this.state.duration:"- -"," minutes"]})})]})})]})}}]),i}(a.Component),I=i(2),A=[{name:"Create",path:"/orange-lines",id:"create"},{name:"About",path:"/orange-lines/about",id:"about"}],T=function(e){Object(d.a)(i,e);var t=Object(u.a)(i);function i(e){return Object(s.a)(this,i),t.call(this,e)}return Object(l.a)(i,[{key:"render",value:function(){return Object(n.jsxs)("div",{children:[Object(n.jsx)(O,{menuItems:A}),Object(n.jsxs)(I.c,{children:[Object(n.jsx)(I.a,{exact:!0,path:"",children:Object(n.jsx)(F,{})}),Object(n.jsx)(I.a,{exact:!0,path:"/about",children:Object(n.jsx)(M,{})})]})]})}}]),i}(a.Component),D=function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,66)).then((function(t){var i=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,o=t.getTTFB;i(e),n(e),a(e),r(e),o(e)}))};c.a.render(Object(n.jsx)(m.a,{children:Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(T,{})})}),document.getElementById("root")),D()}},[[65,1,2]]]);
//# sourceMappingURL=main.2a911a00.chunk.js.map